<h1>Hello Tizen-WRT</h1>

<body>
<textarea cols=50 rows=20 id="output"></textarea>
<br>
<button id="battery_btn">Battery</button>
<button id="cpu_btn">CPU</button>
<button id="storage_btn">Storage</button>
<button id="display_btn">Display</button>
<button id="device_orientation_btn">Device Orientation</button>
<button id="build_btn">Build</button>
<br>
<button id="locale_btn">Locale</button>
<button id="network_btn">Network</button>
<button id="wifi_network_btn">Wifi Network</button>
<button id="cellular_network_btn">Cellular Network</button>
<button id="sim_btn">SIM</button>
<button id="peripheral_btn">Peripheral</button>
</body>

<script>

var output = document.getElementById("output");

function handle(button, callback) {
    var b = document.getElementById(button);
    b.addEventListener("click", callback);
}

function onErrorCallback(error) {
  output.value = '\n An error occurred: ' + error.message + '\n';
}

handle("battery_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "BATTERY",
    function(battery) {
      output.value = '\n The battery level is ' + battery.level + '\n';
      var is_charging = battery.isCharging ? 'charging' : 'not charging';
      output.value += '\n The battery is ' + is_charging + '\n';
    },
    onErrorCallback);
});

handle("cpu_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "CPU",
    function(cpu) {
      output.value = '\n The CPU load is ' + cpu.load + '\n';
    },
    onErrorCallback);
});

handle("storage_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "STORAGE",
    function(storage) {
      output.value = '\n There are ' + storage.units.length + ' storage units.\n';
      for (i=0; i< storage.units.length; i++) {
        output.value += '\n storage[' + i + ']:'
        output.value += '\n\t type: ' + storage.units[i].type +
                        '\n\t capacity: ' + storage.units[i].capacity + ' bytes' +
                        '\n\t availableCapacity: ' + storage.units[i].availableCapacity + ' bytes' +
                        '\n\t isRemovable: ' + storage.units[i].isRemovable +
                        '\n\t isRemoveable: ' + storage.units[i].isRemoveable + '\n';
      }
    },
    onErrorCallback);
});

handle("display_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "DISPLAY",
    function(display) {
      output.value = '\n resolutionWidth: ' + display.resolutionWidth +
                     '\n resolutionHeight: ' + display.resolutionHeight +
                     '\n dotsPerInchWidth: ' + display.dotsPerInchWidth +
                     '\n dotsPerInchHeight: ' + display.dotsPerInchHeight +
                     '\n physicalWidth: ' + display.physicalWidth +
                     '\n physicalHeight: ' + display.physicalHeight +
                     '\n brightness: ' + display.brightness;
    },
    onErrorCallback);
});

handle("device_orientation_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "DEVICE_ORIENTATION ",
    function(orientation) {
      output.value = '\n status: ' + orientation.status +
                     '\n isAutoRotation: ' + orientation.isAutoRotation;
    },
    onErrorCallback);
});

handle("build_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "BUILD",
    function(build) {
      output.value = '\n model: ' + build.model +
                     '\n manufacturer: ' + build.manufacturer +
                     '\n buildVersion: ' + build.buildVersion;
    },
    onErrorCallback);
});

handle("locale_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "LOCALE",
    function(locale) {
      output.value = '\n language: ' + locale.language +
                     '\n country: ' + locale.country;
    },
    onErrorCallback);
});

handle("network_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "NETWORK",
    function(network) {
      output.value = '\n networkType: ' + network.networkType;
    },
    onErrorCallback);
});

handle("wifi_network_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "WIFI_NETWORK",
    function(wifi) {
      output.value = '\n status: ' + wifi.status +
                     '\n ssid: ' + wifi.ssid +
                     '\n ipAddress: ' + wifi.ipAddress +
                     '\n ipv6Address: ' + wifi.ipv6Address +
                     '\n signalStrength: ' + wifi.signalStrength;
    },
    onErrorCallback);
});

handle("cellular_network_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "CELLULAR_NETWORK",
    function(cellular) {
      output.value = '\n status: ' + cellular.status +
                     '\n apn: ' + cellular.apn +
                     '\n ipAddress: ' + cellular.ipAddress +
                     '\n ipv6Address: ' + cellular.ipv6Address +
                     '\n mcc: ' + cellular.mcc +
                     '\n mnc: ' + cellular.mnc +
                     '\n cellId: ' + cellular.cellId +
                     '\n lac: ' + cellular.lac +
                     '\n isRoaming: ' + cellular.isRoaming +
                     '\n isFlightMode: ' + cellular.isFlightMode +
                     '\n imei: ' + cellular.imei;
    },
    onErrorCallback);
});

handle("sim_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "SIM",
    function(sim) {
      output.value = '\n state: ' + sim.state +
                     '\n operatorName: ' + sim.operatorName +
                     '\n msisdn: ' + sim.msisdn +
                     '\n iccid: ' + sim.iccid +
                     '\n mcc: ' + sim.mcc +
                     '\n mnc: ' + sim.mnc +
                     '\n msin: ' + sim.msin +
                     '\n spn: ' + sim.spn;
    },
    onErrorCallback);
});

handle("peripheral_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "PERIPHERAL",
    function(peripheral) {
      output.value = '\n isVideoOutputOn: ' + peripheral.isVideoOutputOn;
    },
    onErrorCallback);
});

</script>
