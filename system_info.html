<h1>Hello Tizen-WRT</h1>

<body>
<textarea cols=50 rows=20 id="output"></textarea>
<br>
<button id="battery_btn">Battery</button>
<button id="cpu_btn">CPU</button>
<button id="storage_btn">Storage</button>
<button id="display_btn">Display</button>
<button id="device_orientation_btn">Device Orientation</button>
</body>

<script>

var output = document.getElementById("output");

function handle(button, callback) {
    var b = document.getElementById(button);
    b.addEventListener("click", callback);
}

function onErrorCallback(error) {
  output.value = '\n An error occurred: ' + error.message + '\n';
}

handle("battery_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "BATTERY",
    function(battery) {
      output.value = '\n The battery level is ' + battery.level + '\n';
      var is_charging = battery.isCharging ? 'charging' : 'not charging';
      output.value += '\n The battery is ' + is_charging + '\n';
    },
    onErrorCallback);
});

handle("cpu_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "CPU",
    function(cpu) {
      output.value = '\n The CPU load is ' + cpu.load + '\n';
    },
    onErrorCallback);
});

handle("storage_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "STORAGE",
    function(storage) {
      output.value = '\n There are ' + storage.units.length + ' storage units.\n';
      for (i=0; i< storage.units.length; i++) {
        output.value += '\n storage[' + i + ']:'
        output.value += '\n\t type: ' + storage.units[i].type +
                        '\n\t capacity: ' + storage.units[i].capacity +
                        '\n\t availableCapacity: ' + storage.units[i].availableCapacity +
                        '\n\t isRemovable: ' + storage.units[i].isRemovable +
                        '\n\t isRemoveable: ' + storage.units[i].isRemoveable + '\n';
      }
    },
    onErrorCallback);
});

handle("display_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "DISPLAY",
    function(display) {
      output.value = '\n resolutionWidth: ' + display.resolutionWidth +
                     '\n resolutionHeight: ' + display.resolutionHeight +
                     '\n dotsPerInchWidth: ' + display.dotsPerInchWidth +
                     '\n dotsPerInchHeight: ' + display.dotsPerInchHeight +
                     '\n physicalWidth: ' + display.physicalWidth +
                     '\n physicalHeight: ' + display.physicalHeight +
                     '\n brightness: ' + display.brightness;
    },
    onErrorCallback);
});

handle("device_orientation_btn", function() {
  tizen.systeminfo.getPropertyValue(
    "DEVICE_ORIENTATION ",
    function(orientation) {
      output.value = '\n status: ' + orientation.status +
                     '\n isAutoRotation: ' + orientation.isAutoRotation;
    },
    onErrorCallback);
});
</script>
